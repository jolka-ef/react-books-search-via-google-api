(window.webpackJsonpbooks=window.webpackJsonpbooks||[]).push([[0],{22:function(e,t,a){e.exports=a(58)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/placeholder.ba8a1f27.svg"},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),c=a.n(r),s=(a(27),a(2)),o=(a(28),function(){return l.a.createElement("header",{className:"Header"},l.a.createElement("h1",{className:"Header-title"},"Search for Books with",l.a.createElement("span",null,l.a.createElement("i",null," G "),l.a.createElement("i",null," o "),l.a.createElement("i",null," o "),l.a.createElement("i",null," g "),l.a.createElement("i",null," l "),l.a.createElement("i",null," e "))))}),i=(a(29),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:e.labelClass,htmlFor:e.name},e.label),l.a.createElement("input",{"aria-label":e.ariaLabel,className:e.inputClass,id:e.name,name:e.name,type:e.type}))}),u=(a(30),function(e){var t=e.inputClass,a=e.labelClass,n=e.label,r=e.name,c=e.options;return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:a,htmlFor:r},n),l.a.createElement("select",{className:t,id:r,name:r},function(e){return e.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)}))}(c)))}),m=[{label:"Any language",value:""},{label:"english",value:"en"},{label:"french",value:"fr"},{label:"polish",value:"pl"},{label:"spanish",value:"es"},{label:"german",value:"de"},{label:"italian",value:"it"}],b=(a(31),a(32),function(e){return l.a.createElement("button",{className:"Button",onClick:e.onClick,type:e.type},e.name)}),p=function(e){var t=Object(n.useRef)(),a=e.onSubmit;return l.a.createElement("div",{role:"search"},l.a.createElement("form",{className:"Form",method:"get",ref:t,onSubmit:function(e){e.preventDefault(),a(function(e){var t=e.current,a=t.author.value,n=t.title.value,l=t.isbn.value;return{langRestrict:t.langRestrict.value,inauthor:a,intitle:n,isbn:l}}(t))}},l.a.createElement(i,{ariaLabel:"Search for books by title",inputClass:"Form-input",labelClass:"Form-label",label:"Tittle",name:"title",type:"search"}),l.a.createElement(i,{ariaLabel:"Search for books by author",inputClass:"Form-input",labelClass:"Form-label",label:"Author",name:"author",type:"search"}),l.a.createElement(u,{inputClass:"Form-input Form-input--select",labelClass:"Form-label",label:"Language",name:"langRestrict",options:m}),l.a.createElement(i,{ariaLabel:"Search for books by ISBN",inputClass:"Form-input",labelClass:"Form-label",label:"ISBN",name:"isbn",type:"search"}),l.a.createElement(b,{name:"Search",type:"submit"})))},f=a(3),h=a.n(f),E=a(8),d=a(9),v=a(20),g=a.n(v),k=(a(52),a(53)),y=function(e){var t=e.data.map((function(e){return function(e){var t=e.volumeInfo,a=e.etag,n=t.imageLinks,l=void 0===n?{}:n,r=t.description,c=void 0===r?"":r,s=t.infoLink,o=t.title,i=t.publishedDate,u=l.smallThumbnail;return e={key:a,title:o,description:c,img:void 0===u?null:u,link:s,publishedDate:i}}(e)}));return l.a.createElement("table",{className:"SearchResults"},l.a.createElement("colgroup",null,l.a.createElement("col",null),l.a.createElement("col",null)),l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col",className:"VisuallyHidden"},"Book info"),l.a.createElement("th",{scope:"col",className:"VisuallyHidden"},"Book image"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{className:"SearchResults-row",key:e.key},l.a.createElement("td",{className:"SearchResults-cell"},l.a.createElement("a",{href:e.link,className:"SearchResults-bookLink"},l.a.createElement("h2",{className:"SearchResults-bookTitle"},e.title),l.a.createElement("p",{className:"SearchResults-bookInfo"},e.description&&function(e,t){var a=e.split(/\s+/,t);return(a=a.join(" "))&&(a=a.padEnd(a.length+6," (...)")),a}(e.description,15)),e.publishedDate&&l.a.createElement("p",{className:"SearchResults-bookPublishDate"},"published ",e.publishedDate))),l.a.createElement("td",{className:"SearchResults-cell"},l.a.createElement("img",{alt:"Book cover",className:"SearchResults-bookImage",src:e.img||k})))}))))},w=(a(54),function(e){return l.a.createElement("div",{className:"Error"},l.a.createElement("svg",{className:"Error-icon",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M507.494,426.066L282.864,53.537c-5.677-9.415-15.87-15.172-26.865-15.172c-10.995,0-21.188,5.756-26.865,15.172 L4.506,426.066c-5.842,9.689-6.015,21.774-0.451,31.625c5.564,9.852,16.001,15.944,27.315,15.944h449.259 c11.314,0,21.751-6.093,27.315-15.944C513.508,447.839,513.336,435.755,507.494,426.066z M256.167,167.227 c12.901,0,23.817,7.278,23.817,20.178c0,39.363-4.631,95.929-4.631,135.292c0,10.255-11.247,14.554-19.186,14.554 c-10.584,0-19.516-4.3-19.516-14.554c0-39.363-4.63-95.929-4.63-135.292C232.021,174.505,242.605,167.227,256.167,167.227z M256.498,411.018c-14.554,0-25.471-11.908-25.471-25.47c0-13.893,10.916-25.47,25.471-25.47c13.562,0,25.14,11.577,25.14,25.47 C281.638,399.11,270.06,411.018,256.498,411.018z"})),l.a.createElement("p",{className:"Error-message"},e.message))}),N=(a(55),function(){return l.a.createElement("svg",{className:"Loader",xmlns:"http://www.w3.org/2000/svg",width:"160",height:"80"},l.a.createElement("text",{x:"0",y:"40",textLength:"80",fill:"#3ac300"},"Loading"),l.a.createElement("rect",{x:"90",y:"26",width:"60",height:"16",rx:"5",ry:"5",fill:"#3ac300"}))}),S=(a(56),function(e){var t="https://www.googleapis.com/books/v1/volumes?&key=".concat("AIzaSyBqJRFKW-W_SIjBjuAZ1rhXwxBDAeQu7VQ&q","="),a=e.maxResults,r=e.query,c=Object(n.useState)(0),o=Object(s.a)(c,2),i=o[0],u=o[1],m=function(e){var t=Object(n.useState)({items:[],totalItems:0}),a=Object(s.a)(t,2),l=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(!1),b=Object(s.a)(m,2),p=b[0],f=b[1],v=Object(n.useState)(e),k=Object(s.a)(v,2),y=k[0],w=k[1];return Object(n.useEffect)((function(){y&&function(){var e=Object(E.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),u(!0),e.prev=2,e.next=5,g()(y);case 5:(t=e.sent).data.items&&r({items:[].concat(Object(d.a)(l.items),Object(d.a)(t.data.items)),totalItems:t.data.totalItems}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),f(!0);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()()}),[y]),[{data:l,isLoading:i,isError:p},w]}(""),p=Object(s.a)(m,2),f=p[0],v=f.data,k=f.isLoading,S=f.isError,j=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat(t).concat(r,"&startIndex=").concat(i,"&maxResults=").concat(a));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,i]),l.a.createElement(l.a.Fragment,null,S?l.a.createElement(w,{message:"We're sorry but something went terribly wrong..."}):null,v.items&&v.items.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(y,{data:v.items}),i<v.totalItems&&v.totalItems>a?l.a.createElement(b,{onClick:function(){i<v.totalItems&&u((function(e){return e+a}))},name:"load more"}):null):k?null:l.a.createElement("p",{className:"SearchResults-info"},"No results to show."),k?l.a.createElement(N,null):null)}),j=a(21),O=["langRestrict"],x=(a(57),function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1];return l.a.createElement("div",{className:"App"},l.a.createElement(o,null),l.a.createElement("main",{className:"AppContent"},l.a.createElement(p,{onSubmit:function(e){r(function(e){for(var t=e.langRestrict,a=Object(j.a)(e,O),n=[],l=0,r=Object.entries(a);l<r.length;l++){var c=Object(s.a)(r[l],2),o=c[0],i=c[1];i&&n.push("".concat(o,":").concat(i))}var u=n.join("+");return u&&t&&(u+="&langRestrict=".concat(t)),u}(e))}}),a&&l.a.createElement(S,{key:Date.now(),maxResults:15,query:a})))});c.a.render(l.a.createElement(x,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.6ad1ce16.chunk.js.map